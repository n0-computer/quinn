# Use cargo-make to run tasks here: https://crates.io/crates/cargo-make

[tasks.format]
workspace = false
command = "cargo"
args = [
     "fmt",
     "--all",
     "--",
     "--config",
     "unstable_features=true",
     "--config",
     "imports_granularity=Crate,group_imports=Preserve,reorder_imports=false,format_code_in_doc_comments=true",
]

[tasks.format-check]
workspace = false
command = "cargo"
args = [
     "fmt",
     "--all",
     "--check",
     "--",
     "--config",
     "unstable_features=true",
     "--config",
     "imports_granularity=Crate,group_imports=Preserve,reorder_imports=false,format_code_in_doc_comments=true",
]

[tasks.proptests]
# Run proptests with high case count (runs for ~10 minutes)
# Usage: cargo make proptests
workspace = false
command = "cargo"
args = ["nextest", "run", "-P", "proptests", "--no-fail-fast"]
env = { "PROPTEST_CASES" = "100000" }

[tasks.proptests-ci]
# Run proptests for CI (~1 minute)
# Usage: cargo make proptests-ci
workspace = false
command = "cargo"
args = ["nextest", "run", "-P", "proptests", "--no-fail-fast"]
env = { "PROPTEST_CASES" = "10000" }
